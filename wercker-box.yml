name: walter
version: 0.0.6
inherits: wercker-labs/docker
type: service
platform: ubuntu@12.04
description: wercker box for walter sample  
keywords:
  - walter
script: |
  sudo apt-get update -y
  sudo apt-get install maven
  sudo apt-get install ruby
  sudo apt-get install ruby-dev
  sudo gem install bundle --no-ri --no-rdoc
  sudo gem install rake --no-ri --no-rdoc
  sudo gem install serverspec --no-ri --no-rdoc
  
  # Install golang
  version="1.3.1"
  sudo apt-get install bzr
  sudo apt-get install mercurial
  sudo apt-get install git
  sudo apt-get install wget
  wget http://golang.org/dl/go${version}.linux-amd64.tar.gz
  sudo tar -C /usr/local -xzf go${version}.linux-amd64.tar.gz
  echo "export PATH=$PATH:/usr/local/go/bin" | sudo tee -a /etc/profile
  rm go${version}.linux-amd64.tar.gz

  # Set GOPATH
  export GOPATH="$HOME/go"
  echo 'export GOPATH="$HOME/go"' | sudo tee -a /etc/profile

  # Adds go bin directory to path so tools
  # and buils are available on the commandline
  export PATH="$PATH:$GOPATH/bin"
  echo 'export PATH="$PATH:$GOPATH/bin"' | sudo tee -a /etc/profile

  # Make actual go workspace dir structure
  mkdir -p "$HOME/go/{src,pkg,bin}"

  docker -v
